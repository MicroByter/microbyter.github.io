<!DOCTYPE html>
<html>
  
<head>
  <title>Globetrot Configuration - v1.2.1</title>
  
<link rel='stylesheet' type='text/css' href='css/slate.min.css'>
  
<script src='js/slate.min.js'></script>
  
<style>
  
.title {
    padding: 15px 10px;
    text-transform: uppercase;
    font-family: 'PT Sans', sans-serif;
    font-size: 1.2em;
    font-weight: 500;
    color: #888888;
    text-align: center;
  }
  
  
  
</style>
  
  <script type="text/javascript">
       $(document).ready(function () {
 
           var chkControlLeft = document.getElementById('use_left_circle');
           var chkControlRight = document.getElementById('use_right_circle');
		   var chControlLZone = document.getElementById('luse_own');
		   var chControlRZone = document.getElementById('ruse_own');


           $(use_left_circle).click(function () {
               if ($(chkControlLeft).is(":checked")) {
                   $("#ldrop").show("slow");
               }
               else {
                   $("#ldrop").hide("slow");
               }
           });

		   
           $(use_right_circle).click(function () {
               if ($(chkControlRight).is(":checked")) {
                   $("#rdrop").show("slow");
               }
               else {
                   $("#rdrop").hide("slow");
               }
           });
		   
		   
		   $(luse_own).click(function () {
               if ($(chControlLZone).is(":checked")) {
                   $("#lown").show("slow");
                   $("#lselect").hide("slow");
               }
               else {
                   $("#lselect").show("slow");
                   $("#lown").hide("slow");
               }
           });

		   
		   $(ruse_own).click(function () {
               if ($(chControlRZone).is(":checked")) {
                   $("#rown").show("slow");
                   $("#rselect").hide("slow");
               }
               else {
                   $("#rselect").show("slow");
                   $("#rown").hide("slow");
               }
           });
   });
 </script>

  
</head>

  
<body>
    


<h1 class='title'>Globetrot Configurator</h1>
    
<div class='item-container'>
<div class='item-container-content'>      
<div class='item'>
Use this configuration page to choose the settings you would like.  <p> 
Please show your support for Pebble Developers and remember to <3 faces you enjoy!        
</div>
</div>
</div>

    
<div class='item-container'>
      
	<div class='item-container-header'>Customizability
	</div>
    <div class="item-container-content">
        <label class="item">
          Preset Themes
          <select id="theme_picker" name="theme_picker" dir='rtl' class="item-select">
            <option class="item-select-option" value='0'>Black</option>
            <option class="item-select-option" value='1'>White</option>
            <option class="item-select-option" value='2'>Red</option>
            <option class="item-select-option" value='3'>Blue</option>
            <option class="item-select-option" value='4'>Green</option>
            <option class="item-select-option" value='5'>Purple</option>
            <option class="item-select-option" value='6'>Seasons Greetings</option>
          </select>
        </label>
    </div>
	<div class='item-container-footer'>More color customization control is on the way, please enjoy these presets for now.</div>

	<div class='item-container-content'>
		<label class='item'>
          Display Seconds Hand        
		<input id='use_sec_hand' type='checkbox' class='item-toggle'>
		</label>
	</div> 
	<div class='item-container-content'>
		<label class='item'>
          Bluetooth Status Vibrate
		<input id='use_bluetooth' type='checkbox' class='item-toggle'>
		</label>
	</div> 
		<div class='item-container-content'>
		<label class='item'>
          Vibrate Every Hour
		<input id='use_vibrate' type='checkbox' class='item-toggle'>
		</label>
	</div> 
	<div class='item-container-footer'><font color="FF0000">Enabling Seconds Hand, Bluetooth and Hourly Vibrate options may affect battery life.</font></div>      

</div> <P><BR>
													
													
													<!-- LEFT COMPLICATION -->  
													<!-- LEFT COMPLICATION -->  
													<!-- LEFT COMPLICATION -->  


<div class="item-container">
	<div class="item-container-header">Left Complication
	</div>
    <div class='item-container-footer'><B>Display Complication: </B> Turn the complication ON or OFF<P>
	<B>Set Your Own Zone: </B> If you none of the cities in your list match a city you want to use in the complication, select this option to input your own
	   timezone and label
	</div>


	<div class='item-container-content'>
		<label class='item'>
          Display Left Complication
		<input id='use_left_circle' type='checkbox' class='item-toggle' checked>
		</label>
	</div>		
	<div class="item-container-content" id="ldrop">
		<div class='item-container-content'>
			<label class='item'>
			Set Your Own Zone?        
			<input id='luse_own' type='checkbox' class='item-toggle'>
			</label>
		</div>

		<div class="item-container-content" id="lselect">
        <label class="item">
          Left City
          <select id="lcity_picker" name="lcity_picker" dir='rtl' class="item-select">
            <option class="item-select-option" value='0'>ANCHORAGE</option>
            <option class="item-select-option" value='1'>ATHENS</option>
            <option class="item-select-option" value='2'>BANGKOK</option>
            <option class="item-select-option" value='3'>BEIJING</option>
            <option class="item-select-option" value='4'>BEIRUT</option>
            <option class="item-select-option" value='5'>BRUSSELS</option>
            <option class="item-select-option" value='6'>CAIRO</option>
            <option class="item-select-option" value='7'>DALLAS</option>
            <option class="item-select-option" value='8'>HONOLULU</option>>
            <option class="item-select-option" value='9'>LONDON</option>
            <option class="item-select-option" value='10'>LOS ANGELES</option>
            <option class="item-select-option" value='11'>MADRID</option>
            <option class="item-select-option" value='12'>MANILA</option>
            <option class="item-select-option" value='13'>MOSCOW</option>
            <option class="item-select-option" value='14'>NEW DELHI</option>
            <option class="item-select-option" value='15'>OSLO</option>
            <option class="item-select-option" value='16'>PARIS</option>
            <option class="item-select-option" value='17'>RIYADH</option>
            <option class="item-select-option" value='18'>SEOUL</option>
            <option class="item-select-option" value='19'>SINGAPORE</option>
            <option class="item-select-option" value='20'>SYDNEY</option>
            <option class="item-select-option" value='21'>TOKYO</option>
            <option class="item-select-option" value='22'>VATICAN CITY</option>
            <option class="item-select-option" value='23'>WASHINGTON DC</option>
            <option class="item-select-option" value='24'>ZURICH</option>
          </select>
        </label>
		</div>
	
		<div class="item-container-content" id="lown">
		<label class="item">
          Timezone
          <select id="ltimezone_picker" name="ltimezone_picker" dir='rtl' class="item-select">
            <option class="item-select-option" value='0'>UTC</option>
            <option class="item-select-option" value='-11'>UTC -11</option>
            <option class="item-select-option" value='-10'>UTC -10</option>
            <option class="item-select-option" value='-9'>UTC -9</option>
            <option class="item-select-option" value='-8'>UTC -8</option>
            <option class="item-select-option" value='-7'>UTC -7</option>
            <option class="item-select-option" value='-6'>UTC -6</option>
            <option class="item-select-option" value='-5'>UTC -5</option>
            <option class="item-select-option" value='-4'>UTC -4</option>
            <option class="item-select-option" value='-3'>UTC -3</option>>
            <option class="item-select-option" value='-2'>UTC -2</option>
            <option class="item-select-option" value='-1'>UTC -1</option>
            <option class="item-select-option" value='1'>UTC +1</option>
            <option class="item-select-option" value='2'>UTC +2</option>
            <option class="item-select-option" value='3'>UTC +3</option>
            <option class="item-select-option" value='4'>UTC +4</option>
            <option class="item-select-option" value='5'>UTC +5</option>
            <option class="item-select-option" value='6'>UTC +6</option>
            <option class="item-select-option" value='7'>UTC +7</option>
            <option class="item-select-option" value='8'>UTC +8</option>
            <option class="item-select-option" value='9'>UTC +9</option>
            <option class="item-select-option" value='11'>UTC +10</option>
            <option class="item-select-option" value='10'>UTC +11</option>
            <option class="item-select-option" value='12'>UTC +12</option>
            <option class="item-select-option" value='13'>UTC +13</option>
            <option class="item-select-option" value='14'>UTC +14</option>
          </select>
        </label>
	
	
			<div class="item-container-content">
			<label class="item">
				<div class="item-input-wrapper">
				<input id="lcity_label" type="text" class="item-input" name="lcity_label" placeholder="Left Label">
				</div>
				<div class='item-container-footer'>Add your own label - up to 3 characters.
				</div>
			</label>
			</div> 
		</div>
	</div>

    </div> 
	
	
	<P><BR>
													
													
													<!-- RIGHT COMPLICATION -->  
													<!-- RIGHT COMPLICATION -->  
													<!-- RIGHT COMPLICATION -->  

	<div class="item-container">
      <div class="item-container-header">Right Complication</div>

  		<div class='item-container-content'>
		<label class='item'>
          Display Right Complication        
		<input id='use_right_circle' type='checkbox' class='item-toggle' checked>
		</label>
		</div>

	<div class="item-container-content" id="rdrop">
		<div class='item-container-content'>
			<label class='item'>
			Set Your Own Zone?
			<input id='ruse_own' type='checkbox' class='item-toggle'>
			</label>
		</div>

		<div class="item-container-content" id="rselect">
        <label class="item">
          Right City
          <select id="rcity_picker" name="rcity_picker" dir='rtl' class="item-select">
            <option class="item-select-option" value='0'>ANCHORAGE</option>
            <option class="item-select-option" value='1'>ATHENS</option>
            <option class="item-select-option" value='2'>BANGKOK</option>
            <option class="item-select-option" value='3'>BEIJING</option>
            <option class="item-select-option" value='4'>BEIRUT</option>
            <option class="item-select-option" value='5'>BRUSSELS</option>
            <option class="item-select-option" value='6'>CAIRO</option>
            <option class="item-select-option" value='7'>DALLAS</option>
            <option class="item-select-option" value='8'>HONOLULU</option>>
            <option class="item-select-option" value='9'>LONDON</option>
            <option class="item-select-option" value='10'>LOS ANGELES</option>
            <option class="item-select-option" value='11'>MADRID</option>
            <option class="item-select-option" value='12'>MANILA</option>
            <option class="item-select-option" value='13'>MOSCOW</option>
            <option class="item-select-option" value='14'>NEW DELHI</option>
            <option class="item-select-option" value='15'>OSLO</option>
            <option class="item-select-option" value='16'>PARIS</option>
            <option class="item-select-option" value='17'>RIYADH</option>
            <option class="item-select-option" value='18'>SEOUL</option>
            <option class="item-select-option" value='19'>SINGAPORE</option>
            <option class="item-select-option" value='20'>SYDNEY</option>
            <option class="item-select-option" value='21'>TOKYO</option>
            <option class="item-select-option" value='22'>VATICAN CITY</option>
            <option class="item-select-option" value='23'>WASHINGTON DC</option>
            <option class="item-select-option" value='24'>ZURICH</option>
          </select>
        </label>
		</div>
	
		<div class="item-container-content" id="rown">
		<label class="item">
          Timezone
          <select id="rtimezone_picker" name="rtimezone_picker" dir='rtl' class="item-select">
            <option class="item-select-option" value='0'>UTC</option>
            <option class="item-select-option" value='-11'>UTC -11</option>
            <option class="item-select-option" value='-10'>UTC -10</option>
            <option class="item-select-option" value='-9'>UTC -9</option>
            <option class="item-select-option" value='-8'>UTC -8</option>
            <option class="item-select-option" value='-7'>UTC -7</option>
            <option class="item-select-option" value='-6'>UTC -6</option>
            <option class="item-select-option" value='-5'>UTC -5</option>
            <option class="item-select-option" value='-4'>UTC -4</option>
            <option class="item-select-option" value='-3'>UTC -3</option>>
            <option class="item-select-option" value='-2'>UTC -2</option>
            <option class="item-select-option" value='-1'>UTC -1</option>
            <option class="item-select-option" value='1'>UTC +1</option>
            <option class="item-select-option" value='2'>UTC +2</option>
            <option class="item-select-option" value='3'>UTC +3</option>
            <option class="item-select-option" value='4'>UTC +4</option>
            <option class="item-select-option" value='5'>UTC +5</option>
            <option class="item-select-option" value='6'>UTC +6</option>
            <option class="item-select-option" value='7'>UTC +7</option>
            <option class="item-select-option" value='8'>UTC +8</option>
            <option class="item-select-option" value='9'>UTC +9</option>
            <option class="item-select-option" value='11'>UTC +10</option>
            <option class="item-select-option" value='10'>UTC +11</option>
            <option class="item-select-option" value='12'>UTC +12</option>
            <option class="item-select-option" value='13'>UTC +13</option>
            <option class="item-select-option" value='14'>UTC +14</option>
          </select>
        </label>
	
	
			<div class="item-container-content">
			<label class="item"> Label
				<div class="item-input-wrapper">
				<input id="rcity_label" type="text" class="item-input" name="rcity_label" placeholder="Right Label">
				</div>
				<div class='item-container-footer'>Add your own label - up to 3 characters.
				</div>
			</label>
			</div> 
		</div>
	</div>
<P><BR><P>

	<div class="item-container">
      <div class="item-container-header">Timezone References</div>
		<img src="east.png"/>
        <P>
		<img src="west.png"/>

	</div>

	<P><BR><P>
<div class='item-container'>
    <div class='button-container'>  
	<input id='submit_button' type='button' class='item-button' value='SUBMIT'>  
	</div>
	<div class='item-container-footer'> <P><BR><P><Center><B>MicroByter Studios - Config Version 	1.3</B></Center></P></BR></P></div>
</div>
</body>
</html>



<script>



function getConfigData() {
    
    var theme= document.getElementById('theme_picker');
    var lcity = document.getElementById('lcity_picker');
    var rcity = document.getElementById('rcity_picker');
	var useSeconds = document.getElementById('use_sec_hand');
	var useBluetooth = document.getElementById('use_bluetooth');
	var useVibrate = document.getElementById('use_vibrate');
	var lcityLabel = document.getElementById('lcity_label');
	var rcityLabel = document.getElementById('rcity_label');
	var useLeftCircle = document.getElementById('use_left_circle');
	var useRightCircle = document.getElementById('use_right_circle');
	var leftUseOwn = document.getElementById('luse_own');
	var rightUseOwn = document.getElementById('ruse_own');
	var ltimeZone = document.getElementById('ltimezone_picker');
	var rtimeZone = document.getElementById('rtimezone_picker');

    var options = {
		'theme': theme.value,
		'lcity': lcity.value,
		'rcity': rcity.value,
		'useSeconds' : useSeconds.checked,
		'useBluetooth' : useBluetooth.checked,
		'useVibrate' : useVibrate.checked,
		'lcityLabel' : lcityLabel.value.substring(0, 3),	
		'rcityLabel' : rcityLabel.value.substring(0, 3),
		'useLeftCircle' : useLeftCircle.checked,
		'useRightCircle' : useRightCircle.checked,
		'leftUseOwn' : leftUseOwn.checked,
		'rightUseOwn' : rightUseOwn.checked,
		'ltimeZone' : ltimeZone.value,
		'rtimeZone' : rtimeZone.value,
	};


    // Save for next launch
    localStorage['theme'] = options['theme'];
    localStorage['lcity'] = options['lcity'];
    localStorage['rcity'] = options['rcity'];
    localStorage['useSeconds'] = options['useSeconds'];
    localStorage['useBluetooth'] = options['useBluetooth'];
    localStorage['useVibrate'] = options['useVibrate'];
    localStorage['lcityLabel'] = options['lcityLabel'];
    localStorage['rcityLabel'] = options['rcityLabel'];
    localStorage['useLeftCircle'] = options['useLeftCircle'];
    localStorage['useRightCircle'] = options['useRightCircle'];

	if (leftUseOwn.checked  == true) {
		localStorage['leftUseOwn'] = 1;
	} else {
		localStorage['leftUseOwn'] = 0;
	}
		
	if (rightUseOwn.checked  == true) {
		localStorage['rightUseOwn'] = 1;
	} else {
		localStorage['rightUseOwn'] = 0;
	}

    localStorage['ltimeZone'] = options['ltimeZone'];
    localStorage['rtimeZone'] = options['rtimeZone'];

    console.log('Got options: ' + JSON.stringify(options));
    return options;
  }

  function getQueryParam(variable, defaultValue) {
    var query = location.search.substring(1);
    var vars = query.split('&');
    for (var i = 0; i < vars.length; i++) {
      var pair = vars[i].split('=');
      if (pair[0] === variable) {
        return decodeURIComponent(pair[1]);
      }
    }
    return defaultValue || false;
  }
 
  var submitButton = document.getElementById('submit_button');
  submitButton.addEventListener('click', function() {
    console.log('Submit');

    // Set the return URL depending on the runtime environment
    var return_to = getQueryParam('return_to', 'pebblejs://close#');
    document.location = return_to + encodeURIComponent(JSON.stringify(getConfigData()));
  });

  (function() {
    var theme = document.getElementById('theme');
    var lcity= document.getElementById('lcity');
    var rcity= document.getElementById('rcity');
    var useSeconds= document.getElementById('useSeconds');
    var useBluetooth= document.getElementById('useBluetooth');
    var useVibrate= document.getElementById('useVibrate');
	var lcityLabel= document.getElementById('lcityLabel');
	var rcityLabel= document.getElementById('rcityLabel');
	var useLeftCircle= document.getElementById('useLeftCircle');
	var useRightCircle= document.getElementById('useRightCircle');
	var leftUseOwn= document.getElementById('leftUseOwn');
	var rightUseOwn= document.getElementById('rightUseOwn');
	var ltimeZone= document.getElementById('ltimeZone');
	var rtimeZone= document.getElementById('rtimeZone');

    // Load any previously saved configuration, if available
    if(localStorage['theme']) {
		theme_picker.value = localStorage['theme'];
		lcity_picker.value = localStorage['lcity'];
		rcity_picker.value = localStorage['rcity'];
		use_sec_hand.checked = JSON.parse(localStorage['useSeconds']);
		use_bluetooth.checked = JSON.parse(localStorage['useBluetooth']);
		use_vibrate.checked = JSON.parse(localStorage['useVibrate']);
		use_right_circle.checked = JSON.parse(localStorage['useRightCircle']);
		use_left_circle.checked = JSON.parse(localStorage['useLeftCircle']);
		use_left_circle.checked = JSON.parse(localStorage['useLeftCircle']);
		ltimezone_picker.value = localStorage['ltimeZone'];
		rtimezone_picker.value = localStorage['rtimeZone'];
    }

	if(localStorage['leftUseOwn']) {
		if (localStorage['leftUseOwn'] == 1)
			luse_own.checked = true;
		else
			luse_own.checked = false;		
	} else {
		luse_own.checked = false;
	}
	
	if(localStorage['rightUseOwn']) {
		if (localStorage['rightUseOwn'] == 1)
			ruse_own.checked = true;
		else
			ruse_own.checked = false;		
	} else {
		ruse_own.checked = false;
	}
	
    if(localStorage['lcityLabel']) {
	  lcity_label.value = localStorage['lcityLabel'];
	  rcity_label.value = localStorage['rcityLabel'];
	}
	
    if (luse_own.checked == false) {
	    $("#lown").hide("slow");
        $("#lselect").show("slow");
    } else {
	    $("#lown").show("slow");
        $("#lselect").hide("slow");
	}

    if (ruse_own.checked == false) {
	    $("#rown").hide("slow");
        $("#rselect").show("slow");
    } else {
	    $("#rown").show("slow");
        $("#rselect").hide("slow");
	}

    if (use_left_circle.checked == false) {
		$("#ldrop").hide("slow"); 
	}
	
    if (use_right_circle.checked == false) {
		$("#rdrop").hide("slow");
    }


	
 })();
  </script>
</html>














