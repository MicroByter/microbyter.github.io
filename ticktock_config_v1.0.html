<!DOCTYPE html>
<html>
  
<head>
  <title>Globetrot Configuration</title>
  
<link rel='stylesheet' type='text/css' href='css/slate.min.css'>
  
<script src='js/slate.min.js'></script>
  
<style>
  
.title {
    padding: 15px 10px;
    text-transform: uppercase;
    font-family: 'PT Sans', sans-serif;
    font-size: 1.2em;
    font-weight: 500;
    color: #888888;
    text-align: center;
  }
  
</style>
  
</head>

  
<body>
    


<h1 class='title'>Globetrot Configuration</h1>

    
<div class='item-container'>
      
<div class='item-container-content'>
        
<div class='item'>
          
Use this configuration page to choose the settings you would like applied to this app.
        
</div>
      
</div>
    
</div>

    
<div class='item-container'>
      
<div class='item-container-header'>Customizability</div>
      
      <div class="item-container-content">
        <label class="item">
          Theme Color:
          <select id="theme_picker" name="theme_picker" dir='rtl' class="item-select">
            <option class="item-select-option" value='0'>Black</option>
            <option class="item-select-option" value='1'>White</option>
          </select>
        </label>
      </div>
    </div>


      <div class="item-container-content">
        <label class="item">
          Circle Left City Option:
          <select id="lcity_picker" name="lcity_picker" dir='rtl' class="item-select">
            <option class="item-select-option" value='0'>ANCHORAGE</option>
            <option class="item-select-option" value='1'>ATHENS</option>
            <option class="item-select-option" value='2'>BANGKOK</option>
            <option class="item-select-option" value='3'>BEIJING</option>
            <option class="item-select-option" value='4'>BEIRUT</option>
            <option class="item-select-option" value='5'>BRUSSELS</option>
            <option class="item-select-option" value='6'>CAIRO</option>
            <option class="item-select-option" value='7'>DALLAS</option>
            <option class="item-select-option" value='8'>HONOLULU</option>>
            <option class="item-select-option" value='9'>LONDON</option>
            <option class="item-select-option" value='10'>LOS ANGELES</option>
            <option class="item-select-option" value='11'>MADRID</option>
            <option class="item-select-option" value='12'>MANILA</option>
            <option class="item-select-option" value='13'>MOSCOW</option>
            <option class="item-select-option" value='14'>NEW DELHI</option>
            <option class="item-select-option" value='15'>OSLO</option>
            <option class="item-select-option" value='16'>PARIS</option>
            <option class="item-select-option" value='17'>RIYADH</option>
            <option class="item-select-option" value='18'>SEOUL</option>
            <option class="item-select-option" value='19'>SINGAPORE</option>
            <option class="item-select-option" value='20'>SYDNEY</option>
            <option class="item-select-option" value='21'>TOKYO</option>
            <option class="item-select-option" value='22'>VATICAN CITY</option>
            <option class="item-select-option" value='23'>WASHINGTON DC</option>
            <option class="item-select-option" value='24'>ZURICH</option>

          </select>
        </label>
      </div>

      <div class="item-container-content">
        <label class="item">
          Circle Right City Option:
          <select id="rcity_picker" name="rcity_picker" dir='rtl' class="item-select">
            <option class="item-select-option" value='0'>ANCHORAGE</option>
            <option class="item-select-option" value='1'>ATHENS</option>
            <option class="item-select-option" value='2'>BANGKOK</option>
            <option class="item-select-option" value='3'>BEIJING</option>
            <option class="item-select-option" value='4'>BEIRUT</option>
            <option class="item-select-option" value='5'>BRUSSELS</option>
            <option class="item-select-option" value='6'>CAIRO</option>
            <option class="item-select-option" value='7'>DALLAS</option>
            <option class="item-select-option" value='8'>HONOLULU</option>>
            <option class="item-select-option" value='9'>LONDON</option>
            <option class="item-select-option" value='10'>LOS ANGELES</option>
            <option class="item-select-option" value='11'>MADRID</option>
            <option class="item-select-option" value='12'>MANILA</option>
            <option class="item-select-option" value='13'>MOSCOW</option>
            <option class="item-select-option" value='14'>NEW DELHI</option>
            <option class="item-select-option" value='15'>OSLO</option>
            <option class="item-select-option" value='16'>PARIS</option>
            <option class="item-select-option" value='17'>RIYADH</option>
            <option class="item-select-option" value='18'>SEOUL</option>
            <option class="item-select-option" value='19'>SINGAPORE</option>
            <option class="item-select-option" value='20'>SYDNEY</option>
            <option class="item-select-option" value='21'>TOKYO</option>
            <option class="item-select-option" value='22'>VATICAN CITY</option>
            <option class="item-select-option" value='23'>WASHINGTON DC</option>
            <option class="item-select-option" value='24'>ZURICH</option>
          </select>
        </label>
      </div>


<div class='item-container'>
      
<div class='item-container-content'>
        
<label class='item'>
          Display Seconds Hand
          
<input id='use_sec_hand' type='checkbox' class='item-toggle'>
        
</label>
      
<div class='item-container-footer'>Switch Seconds hand on or off.
      
</div>
    
</div>
</div>
    

<div class='item-container'>
      
<div class='button-container'>
        
<input id='submit_button' type='button' class='item-button' value='SUBMIT'>
      
</div>
    
</div>
</body>
</html>


<script>

function getConfigData() {
    
    var theme= document.getElementById('theme_picker');
    var lcity = document.getElementById('lcity_picker');
    var rcity = document.getElementById('rcity_picker');


    var options = {
		'theme': theme.value,
		'lcity': lcity.value,
		'rcity': rcity.value,
	};


    // Save for next launch
    localStorage['theme'] = options['theme'];
    localStorage['lcity'] = options['lcity'];
    localStorage['rcity'] = options['rcity'];

    console.log('Got options: ' + JSON.stringify(options));
    return options;
  }

  function getQueryParam(variable, defaultValue) {
    var query = location.search.substring(1);
    var vars = query.split('&');
    for (var i = 0; i < vars.length; i++) {
      var pair = vars[i].split('=');
      if (pair[0] === variable) {
        return decodeURIComponent(pair[1]);
      }
    }
    return defaultValue || false;
  }
 
  var submitButton = document.getElementById('submit_button');
  submitButton.addEventListener('click', function() {
    console.log('Submit');

    // Set the return URL depending on the runtime environment
    var return_to = getQueryParam('return_to', 'pebblejs://close#');
    document.location = return_to + encodeURIComponent(JSON.stringify(getConfigData()));
  });

  (function() {
    var theme = document.getElementById('theme');
    var lcity= document.getElementById('lcity');
    var rcity= document.getElementById('rcity');

    // Load any previously saved configuration, if available
    if(localStorage['theme']) {
      theme_picker.value = localStorage['theme'];
      lcity_picker.value = localStorage['lcity'];
      rcity_picker.value = localStorage['rcity'];
    }
  })();
  </script>
</html>














